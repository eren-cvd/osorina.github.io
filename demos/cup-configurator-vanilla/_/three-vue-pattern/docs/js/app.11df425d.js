(function(e){function t(t){for(var i,o,a=t[0],c=t[1],u=t[2],d=0,l=[];d<a.length;d++)o=a[d],r[o]&&l.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(l.length)l.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},s=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var p=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2856:function(e,t,n){},"2ecc":function(e,t,n){"use strict";var i=n("793f"),r=n.n(i);r.a},"3d94":function(e,t,n){"use strict";var i=n("c8db"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},["None"===e.intent?n("app-recordintent"):e._e(),"None"!==e.intent?n("app-recordintensity",{attrs:{emotion:e.intent}}):e._e(),"Excited"===e.intent?n("app-base",{attrs:{"t-config":1,"t-config":200}}):e._e(),"Nervous"===e.intent?n("app-base",{attrs:{"t-config":1,color:16711680,wireframe:!0,rainbow:!1,emissive:!0}}):e._e(),"Happy"===e.intent?n("app-base",{attrs:{"t-config":1,"t-config":10}}):e._e(),"Frustrated"===e.intent?n("app-base",{attrs:{"t-config":1,"t-config":3,rainbow:!1,color:3761384}}):e._e(),"Calm"===e.intent?n("app-base",{attrs:{"t-config":1}}):e._e(),"Tipsy"===e.intent?n("app-base"):e._e()],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},a=[],c=(n("c5f6"),n("5a89")),u={props:{numAxes:{type:Number,default:12,required:!1},scale:{type:Number,default:900,required:!1},wireframe:{type:Boolean,default:!1,required:!1},rainbow:{type:Boolean,default:!0,required:!1},emissive:{type:Boolean,default:!1,required:!1},color:{type:[Number,String],default:65535,required:!1},tConfig:{default:function(){return{a:2,b:3,c:100,d:3}},required:!1}},computed:{shapeZoom:function(){return this.$store.state.zoom}},data:function(){return{bufferScene:new c["o"],bufferCamera:new c["m"](75,1,.1,1e3),bufferTexture:new c["s"](800,800,{minFilter:c["f"],magFilter:c["e"],antialias:!0}),camera:new c["l"](window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e3),renderer:new c["t"]({antialias:!0}),scene:new c["o"],storeRAF:null,torusKnot:null,tileHolder:new c["k"],bufferSize:800,isPaused:!1}},watch:{shapeZoom:function(){this.createShapes(),cancelAnimationFrame(this.storeRAF),this.animate()}},methods:{createShapes:function(){this.bufferCamera.position.z=this.shapeZoom,null!==this.torusKnot&&(this.torusKnot.material.dispose(),this.torusKnot.geometry.dispose(),this.bufferScene.remove(this.torusKnot));var e,t=new c["p"](this.tConfig.a,this.tConfig.b,this.tConfig.c,this.tConfig.d);e=this.rainbow?new c["i"]({wireframe:this.wireframe}):new c["j"]({color:this.color,shininess:90,wireframe:this.wireframe,emissive:this.emissive?4297706:0}),this.torusKnot=new c["g"](t,e),this.torusKnot.material.needsUpdate=!0,this.bufferScene.add(this.torusKnot)},animate:function(){this.storeRAF=requestAnimationFrame(this.animate),this.bufferScene.rotation.x+=.01,this.bufferScene.rotation.y+=.02,this.renderer.render(this.bufferScene,this.bufferCamera,this.bufferTexture),this.renderer.render(this.scene,this.camera)},updateGridGeometry:function(){this.scene.remove(this.tileHolder);var e,t,n,i=0,r=this.numAxes,s=2*Math.PI/r,o=1,a=new c["d"];a.vertices.push(new c["r"](0,0,0));var u,p,d,l=new c["q"](o*Math.cos(0),o*Math.sin(0)),f=new c["q"](o*Math.cos(t),o*Math.sin(t)),h=l.distanceTo(f),m=h/2,b=o,v=Math.sqrt(b*b-m*m);this.numAxes%6?(e=this.numAxes/4,t=2*Math.PI/4,n=0,u=2*b,p=b,d=b):(e=this.numAxes/6,t=2*Math.PI/6,n=t/2,u=2*v,p=b+m,d=v);for(var w=0;w<r;w++){var g,y,_=w%e,S=_/e,A=Math.floor(w/e),O=t*A,j=t*(A+1);if(0==_)g=o*Math.cos(i),y=o*Math.sin(i);else{var x=o*Math.cos(O),I=o*Math.sin(O),L=o*Math.cos(j),M=o*Math.sin(j);g=x+(L-x)*S,y=I+(M-I)*S}a.vertices.push(new c["r"](g,y,0)),i+=s}for(w=0;w<r;w++){var q=w+1,C=w+2;C>r&&(C=1),a.faces.push(new c["c"](0,q,C))}a.computeBoundingSphere(),a.computeBoundingBox(),a.faceVertexUvs[0]=[];var $=1/e,E=1-$,R=E/2,N=1-E/2;for(w=0;w<a.faces.length;w++)w%2?a.faceVertexUvs[0].push([new c["q"](.5,0),new c["q"](R,1),new c["q"](N,1)]):a.faceVertexUvs[0].push([new c["q"](.5,0),new c["q"](N,1),new c["q"](R,1)]);a.uvsNeedUpdate=!0;var k=new c["k"];this.tileHolder.add(k);var H=this.scale/3,z=new c["h"]({map:this.bufferTexture,side:c["b"]}),B=new c["g"](a,z);B.scale.set(H,H,1),B.rotation.z=n,k.add(B);var P=15;for(w=0;w<P;w++){var W=B.clone();W.position.x-=u*H*(w+1),k.add(W);var T=B.clone();T.position.x+=u*H*(w+1),k.add(T)}var U=10;for(w=0;w<U;w++){var F=k.clone();F.position.y+=p*H*(w+1),w%2||(F.position.x+=d*H),this.tileHolder.add(F);var K=k.clone();K.position.y-=p*H*(w+1),w%2||(K.position.x+=d*H),this.tileHolder.add(K)}this.scene.add(this.tileHolder)},init:function(){this.camera.position.z=5,this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement),this.createShapes();var e=new c["n"](4210752);e.position.set(0,50,-200),this.bufferScene.add(e);var t=new c["a"](4210752);this.scene.add(t);var n=new c["n"](16777215);n.position.set(-100,200,100),this.scene.add(n),this.updateGridGeometry(this.scene),this.animate();var i=this;window.addEventListener("resize",function(){var e=window.innerWidth,t=window.innerHeight;i.renderer.setSize(e,t),i.camera.left=window.innerWidth/-2,i.camera.right=window.innerWidth/2,i.camera.top=window.innerHeight/2,i.camera.bottom=window.innerHeight/-2,i.camera.updateProjectionMatrix()})}},mounted:function(){this.init()}},p=u,d=(n("cadf6"),n("2877")),l=Object(d["a"])(p,o,a,!1,null,"3f6dadb2",null);l.options.__file="AppBase.vue";var f=l.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("How do you feel?")]),e._m(0),e._m(1),n("app-recordinglogic")],1)},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"big"},[n("span",[e._v("Some options... ")]),n("br"),n("em",[e._v("excited, nervous, frustrated, happy, calm, tipsy")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",[e._v("Hit the button and start recording")])])}],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["None"===e.intent||e.aborted?n("app-buttonrecord",{attrs:{aborted:e.aborted},on:{isaborted:function(t){e.aborted=t}}}):e._e(),"listening"===e.uiState||"None"!==e.intent&&!1===e.aborted?n("div",[n("app-sineloader"),n("button",{on:{click:e.aborting}},[e._v("Abort Recording")])],1):e._e()],1)},v=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{ref:"waves"})},g=[],y=n("9ee3"),_={methods:{waves:function(){new y({el:this.$refs.waves,speed:20,ease:"SineInOut",wavesWidth:"50%",waves:[{timeModifier:4,lineWidth:1,amplitude:-25,wavelength:25},{timeModifier:2,lineWidth:1,amplitude:-10,wavelength:30},{timeModifier:1,lineWidth:1,amplitude:-30,wavelength:30},{timeModifier:3,lineWidth:1,amplitude:40,wavelength:40},{timeModifier:.5,lineWidth:1,amplitude:-60,wavelength:60},{timeModifier:1.3,lineWidth:1,amplitude:-40,wavelength:40}],resizeEvent:function(){var e=this.ctx.createLinearGradient(0,0,this.width,0);e.addColorStop(0,"rgba(25, 255, 255, 0)"),e.addColorStop(.5,"rgba(255, 25, 255, 0.75)"),e.addColorStop(1,"rgba(255, 255, 25, 0");var t=-1,n=this.waves.length;while(++t<n)this.waves[t].strokeStyle=e;t=void 0,n=void 0,e=void 0}})}},mounted:function(){this.waves()}},S=_,A=(n("6cc7"),Object(d["a"])(S,w,g,!1,null,"b8d44556",null));A.options.__file="AppSineloader.vue";var O=A.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{class:{disabled:"listening"===e.uiState},on:{click:e.getNewIntent}})])},x=[],I={props:{aborted:{type:Boolean,default:!1,required:!0}},computed:{uiState:function(){return this.$store.state.uiState}},methods:{getNewIntent:function(){this.$store.dispatch("getSpeech"),this.$emit("isaborted",!1)}}},L=I,M=(n("3d94"),Object(d["a"])(L,j,x,!1,null,"4fcce4f0",null));M.options.__file="AppButtonrecord.vue";var q=M.exports,C={components:{AppSineloader:O,AppButtonrecord:q},data:function(){return{aborted:!1}},computed:{intent:function(){return this.$store.state.intent},uiState:function(){return this.$store.state.uiState}},methods:{aborting:function(){this.$store.commit("abortRecording"),this.aborted=!0}}},$=C,E=(n("c6aa"),Object(d["a"])($,b,v,!1,null,"a98b1596",null));E.options.__file="AppRecordinglogic.vue";var R=E.exports,N={components:{AppRecordinglogic:R,AppButtonrecord:q},computed:{uiState:function(){return this.$store.state.uiState}}},k=N,H=(n("f1ec"),Object(d["a"])(k,h,m,!1,null,"ddfa84b8",null));H.options.__file="AppRecordintent.vue";var z=H.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("main",[n("h1",{staticClass:"emotion"},[e._v("Feeling "+e._s(e.emotion))]),n("h3",[e._v("Change the intensity!")]),e._m(0),n("app-recordinglogic")],1),n("app-refresh")],1)},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"big"},[n("span",[e._v("Some options... ")]),n("em",[e._v("more, less")])])}],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("button",{on:{click:e.refresh}},[e._v("Start again")])])},T=[],U={methods:{refresh:function(){location.reload()}}},F=U,K=(n("c014"),Object(d["a"])(F,W,T,!1,null,"69bb8ec4",null));K.options.__file="AppRefresh.vue";var G=K.exports,Z={components:{AppRecordinglogic:R,AppRefresh:G},props:{emotion:{default:"Excited",required:!0}}},V=Z,J=(n("2ecc"),Object(d["a"])(V,B,P,!1,null,"6bc156ea",null));J.options.__file="AppRecordintensity.vue";var D=J.exports,Q={components:{AppBase:f,AppRecordintent:z,AppRecordintensity:D},computed:{intent:function(){return this.$store.getters.intentStr}}},X=Q,Y=(n("5c0b"),Object(d["a"])(X,r,s,!1,null,null,null));Y.options.__file="App.vue";var ee,te=Y.exports,ne=n("a322"),ie=(n("6762"),n("2fdb"),n("a481"),n("2f62")),re=n("bc3a"),se=n.n(re);i["a"].use(ie["a"]);var oe=window.SpeechRecognition||window.webkitSpeechRecognition,ae=(window.SpeechGrammarList||window.webkitSpeechGrammarList,window.SpeechRecognitionEvent||window.webkitSpeechRecognitionEvent,new oe);ae.lang="en-US",ae.interimResults=!1,ae.maxAlternatives=1;var ce=new ie["a"].Store({state:{counter:0,intent:"None",intensity:"None",score:0,uiState:"idle",zoom:3},getters:{intentStr:function(e){var t=e.intent;return t=t.replace(/\b(App.)\b/gi,""),t},intensityStr:function(e){var t=e.intensity;return t=t.replace(/\b(Intensity.)\b/gi,""),t}},mutations:{newIntent:function(e,t){var n=t.intent,i=t.score;n.includes("Intensity")?(e.intensity=n,n.includes("More")?e.counter++:n.includes("Less")&&e.counter--):e.intent=n,e.score=i},setUiState:function(e,t){e.uiState=t},setIntent:function(e,t){e.intent=t},abortRecording:function(e){ae.abort(),e.uiState="idle"},setZoom:function(e){var t=e.intent;switch(t){case"App.Excited":e.zoom=2+e.counter;break;case"App.Nervous":e.zoom=2+e.counter;break;case"App.Happy":e.zoom=2+e.counter;break;case"App.Tipsy":e.zoom=1+e.counter;break;default:e.zoom=3+e.counter}}},actions:{getSpeech:function(e){var t=e.dispatch,n=e.commit,i=e.state;n("setUiState","listening"),"None"===i.intent?ae.continuous=!0:ae.continuous=!1,ae.start(),ae.onresult=function(e){var n=e.results.length-1,i=e.results[n][0].transcript;t("getUnderstanding",i)}},getUnderstanding:function(e,t){var n=e.commit;n("setUiState","fetching");var i="https://westus.api.cognitive.microsoft.com/luis/v2.0/apps/4aba2274-c5df-4b0d-8ff7-57658254d042";se()({method:"get",url:i,params:{verbose:!0,timezoneOffset:0,q:t},headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":"6c85f08d11e84b59b655b8a919b9e286"}}).then(function(e){var t=e.data;console.log("axios result",t),ue.hasOwnProperty(t.query)?n("newIntent",{intent:ue[t.query],score:1}):n("newIntent",t.topScoringIntent),n("setUiState","idle"),n("setZoom")}).catch(function(e){console.error("axios error",e)})}}}),ue=(ee={gypsy:"App.Tipsy",call:"App.Calm",Les:"Intensity.Less",bus:"Intensity.Less",Bus:"Intensity.Less",plus:"Intensity.Less",Plus:"Intensity.Less",last:"Intensity.Less",Last:"Intensity.Less",Rush:"Intensity.Less",bless:"Intensity.Less",Bless:"Intensity.Less",Bess:"Intensity.Less",bess:"Intensity.Less",best:"Intensity.Less",birth:"Intensity.Less",love:"Intensity.Less"},Object(ne["a"])(ee,"plus","Intensity.Less"),Object(ne["a"])(ee,"glad","Intensity.Less"),Object(ne["a"])(ee,"louis","Intensity.Less"),Object(ne["a"])(ee,"glass","Intensity.Less"),Object(ne["a"])(ee,"let","Intensity.Less"),Object(ne["a"])(ee,"lek","Intensity.Less"),Object(ne["a"])(ee,"lek","Intensity.Less"),Object(ne["a"])(ee,"west","Intensity.Less"),Object(ne["a"])(ee,"West","Intensity.Less"),Object(ne["a"])(ee,"ad","Intensity.More"),Object(ne["a"])(ee,"mall","Intensity.More"),Object(ne["a"])(ee,"mirrors","App.Nervous"),Object(ne["a"])(ee,"hobby","App.Happy"),Object(ne["a"])(ee,"heavy","App.Happy"),Object(ne["a"])(ee,"faded","App.Excited"),Object(ne["a"])(ee,"phelan","App.Excited"),Object(ne["a"])(ee,"home","App.Calm"),Object(ne["a"])(ee,"call","App.Calm"),Object(ne["a"])(ee,"hull","App.Calm"),Object(ne["a"])(ee,"paris","App.Nervous"),Object(ne["a"])(ee,"Paris","App.Nervous"),Object(ne["a"])(ee,"nurse","App.Nervous"),Object(ne["a"])(ee,"tipton","App.Tipsy"),ee);i["a"].config.productionTip=!1,new i["a"]({store:ce,render:function(e){return e(te)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("2856"),r=n.n(i);r.a},"6cc7":function(e,t,n){"use strict";var i=n("95d3"),r=n.n(i);r.a},"793f":function(e,t,n){},"89ff":function(e,t,n){},"950c":function(e,t,n){},"95d3":function(e,t,n){},a44b:function(e,t,n){},c014:function(e,t,n){"use strict";var i=n("89ff"),r=n.n(i);r.a},c404:function(e,t,n){},c6aa:function(e,t,n){"use strict";var i=n("a44b"),r=n.n(i);r.a},c8db:function(e,t,n){},cadf6:function(e,t,n){"use strict";var i=n("c404"),r=n.n(i);r.a},f1ec:function(e,t,n){"use strict";var i=n("950c"),r=n.n(i);r.a}});
//# sourceMappingURL=app.11df425d.js.map